2023-05-23 21:59:08.017  INFO 20708 --- [main] com.crypto.CryptoApplication             : Starting CryptoApplication using Java 13.0.2 on DESKTOP-ACVHTG1 with PID 20708 (C:\Users\ibrah\IdeaProjects\assistant-application-api\crypto\target\classes started by ibrah in C:\Users\ibrah\IdeaProjects\assistant-application-api)
2023-05-23 21:59:08.023 DEBUG 20708 --- [main] com.crypto.CryptoApplication             : Running with Spring Boot v2.6.11, Spring v5.3.22
2023-05-23 21:59:08.023  INFO 20708 --- [main] com.crypto.CryptoApplication             : The following 1 profile is active: "dev"
2023-05-23 21:59:09.157  INFO 20708 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-23 21:59:09.379  INFO 20708 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 197 ms. Found 7 JPA repository interfaces.
2023-05-23 21:59:09.726  INFO 20708 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=fbca0e99-d6f9-3d87-b361-789621853bf2
2023-05-23 21:59:09.873  INFO 20708 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration$$EnhancerBySpringCGLIB$$693b47c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-23 21:59:10.547  INFO 20708 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8091 (http)
2023-05-23 21:59:10.557  INFO 20708 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-23 21:59:10.557  INFO 20708 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]
2023-05-23 21:59:10.862  INFO 20708 --- [main] o.a.c.c.C.[.[localhost].[/crypto]        : Initializing Spring embedded WebApplicationContext
2023-05-23 21:59:10.863  INFO 20708 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2788 ms
2023-05-23 21:59:10.983  INFO 20708 --- [main] o.s.boot.web.servlet.RegistrationBean    : Filter requestResponseLoggingFilter was not registered (possibly already registered?)
2023-05-23 21:59:11.268  INFO 20708 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-23 21:59:11.342  INFO 20708 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final
2023-05-23 21:59:11.550  INFO 20708 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-23 21:59:11.679  INFO 20708 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-23 21:59:12.118  INFO 20708 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-23 21:59:12.145  INFO 20708 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-05-23 21:59:13.005  INFO 20708 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-23 21:59:13.043  INFO 20708 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-23 21:59:14.110  WARN 20708 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-23 21:59:15.683  INFO 20708 --- [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2023-05-23 21:59:16.238  INFO 20708 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2023-05-23 21:59:16.269  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2023-05-23 21:59:16.273  INFO 20708 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 21:59:16.292  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2023-05-23 21:59:16.292  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2023-05-23 21:59:16.292  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2023-05-23 21:59:16.292  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2023-05-23 21:59:16.292  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2023-05-23 21:59:16.293  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2023-05-23 21:59:16.293  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2023-05-23 21:59:16.453 DEBUG 20708 --- [main] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/
2023-05-23 21:59:16.521 DEBUG 20708 --- [main] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 21:59:18.164 DEBUG 20708 --- [main] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 21:59:18.165 DEBUG 20708 --- [main] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 21:59:18.177  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2023-05-23 21:59:18.179  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2023-05-23 21:59:18.180  INFO 20708 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2023-05-23 21:59:18.183  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1684868358182 with initial instances count: 0
2023-05-23 21:59:18.187  INFO 20708 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application TRADING-CRYPTO-API with eureka with status UP
2023-05-23 21:59:18.187  INFO 20708 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1684868358187, current=UP, previous=STARTING]
2023-05-23 21:59:18.189  INFO 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091: registering service...
2023-05-23 21:59:18.195 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : HTTP POST http://localhost:8761/eureka/apps/TRADING-CRYPTO-API
2023-05-23 21:59:18.197 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 21:59:18.208 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : Writing [InstanceInfo [instanceId = DESKTOP-ACVHTG1:trading-crypto-api:8091, appName = TRADING-CRYPTO-API, hostName = DESKTOP-ACVHTG1, status = UP, ipAddr = 192.168.1.103, port = 8091, securePort = 443, dataCenterInfo = com.netflix.appinfo.MyDataCenterInfo@557fe039] as "application/json"
2023-05-23 21:59:18.300 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : Response 204 NO_CONTENT
2023-05-23 21:59:18.300  INFO 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091 - registration status: 204
2023-05-23 21:59:18.336  INFO 20708 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8091 (http) with context path '/crypto'
2023-05-23 21:59:18.337  INFO 20708 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8091
2023-05-23 21:59:18.476  INFO 20708 --- [main] com.crypto.CryptoApplication             : Started CryptoApplication in 11.174 seconds (JVM running for 12.697)
2023-05-23 21:59:18.479  INFO 20708 --- [main] c.c.config.StartupApplicationListener    : Auto Run Start
2023-05-23 21:59:48.186  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2023-05-23 21:59:48.186  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2023-05-23 21:59:48.187  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2023-05-23 21:59:48.187  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application is null : false
2023-05-23 21:59:48.187  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2023-05-23 21:59:48.187  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2023-05-23 21:59:48.187  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2023-05-23 21:59:48.187 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/
2023-05-23 21:59:48.187 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 21:59:48.188 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 21:59:48.191 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 21:59:48.191 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 21:59:48.195 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 21:59:48.196  INFO 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] com.netflix.discovery.DiscoveryClient    : The response status is 200
2023-05-23 21:59:48.200 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:00:00.114  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:00:00.114  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:00:00.120 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:00:00.120 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:00.121 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@1e34600a] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:00:00.122 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:00:00.123 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:00:00.123 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:00:00.123 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:00:00.123 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:00:00.123 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:00:01.315 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:00:01.315 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:00:01.315 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:00:01.316 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:00:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"0ebb0cad29bd13cfc02b560165aa0fee"", X-Request-Id:"c6bc501b-4961-49cc-b434-b2375c22b396", X-Runtime:"0.725367", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:02:01 GMT", Set-Cookie:"__cf_bm=uVM8uLigI1qD2HrZjRqrgPGZ9cEE909xuXY6SPtapPc-1684868401-0-AZjK/UHeX1bIXP7heYGnhgGwkrF7u/j0XXJ8TDM969jhHcyMNOlucPrY8MiUdMGNDoyNytBYAh9ZnTNeC95LXjM=; path=/; expires=Tue, 23-May-23 19:30:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbf8a106c0f35f3-FRA"]
2023-05-23 22:00:01.316 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:00:01.316 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:00:01.316 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:00:01.386 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:00:01.387 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:01.387 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@43d517b6] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:00:01.388 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:00:01.388 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:00:01.388 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:00:01.388 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:00:01.388 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:00:01.388 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:00:02.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:00:02.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:00:02.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:00:02.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:00:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"9ce8d0c0de09144be8c72d58d3031b7c"", X-Request-Id:"b73fdbeb-63ab-4384-ba73-8d547d4eff49", X-Runtime:"0.767451", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:02:02 GMT", Set-Cookie:"__cf_bm=o6lrFnAJ02yKmuuha3YLCZxf4pLJW8fHf8M.mqJ0fSU-1684868402-0-ARxq8IVY9VZSJ1TjF5nAD1IeNztYu6AwRZUNunEamcewfLRJlonbsGuCw4Ycg9gj3mA8Bpul4TCt1AE//BZYlow=; path=/; expires=Tue, 23-May-23 19:30:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbf8a17bab72bb0-FRA"]
2023-05-23 22:00:02.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:00:02.492 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:00:02.493 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:00:02.545 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:00:02.546 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:02.546 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@b38dacc] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:00:02.547 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:00:02.547 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:00:02.547 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:00:02.547 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:00:02.547 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:00:02.547 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:00:03.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:00:03.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:00:03.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:00:03.492 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:00:03 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"ca1a37a1e0e8fa2fd4a3de04b59945c7"", X-Request-Id:"824f92fc-b4c0-4a00-bc6b-3549cdf04972", X-Runtime:"0.603099", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:02:03 GMT", Set-Cookie:"__cf_bm=7LyNago1Iscql7d6aWZkS2M0joNxw16CvcNerDVVQeY-1684868403-0-AXTgaYcSuDBjaA1w3qBC7FpOf6K3DlmURdVQKmzcbRWY//Wt5SkQYhQFMzmrMZOZ+0WKXkYGZOulLyuhyG0qKfo=; path=/; expires=Tue, 23-May-23 19:30:03 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbf8a1eeae2bb7a-FRA"]
2023-05-23 22:00:03.493 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:00:03.493 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:00:03.493 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:00:03.547 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:00:03.547 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:03.547 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@4c905408] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:00:03.548 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:00:03.548 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:00:03.548 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:00:03.548 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:00:03.548 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:00:03.548 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:00:03.753 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:00:03.753 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:00:03.753 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:00:03.753 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:00:04 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=UqnNf07iE85WMEZiGF_ACd9B5dTz3QHlqNDfB6wR43U-1684868404-0-AaETV8nb2Dwnpfiax4X0gElHt5i7DTuCvVX4NE5q7qAOgObC8x6gecDkrcXryXVtNxBUoRVA4eTNvsvuMIjX0/o=; path=/; expires=Tue, 23-May-23 19:30:04 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf8a254a6a39bc-FRA"]
2023-05-23 22:00:03.754 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:00:03.754 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:00:03.762 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:00:18.201 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:00:18.201 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:18.206 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:00:18.207 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:00:18.210 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:00:18.210 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:18.213 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:00:48.214 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:00:48.214 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:48.218 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:00:48.218 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:00:48.220 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:00:48.220 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:00:48.223 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:01:18.229 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:01:18.229 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:01:18.230 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:01:18.230 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:01:18.233 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:01:18.233 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:01:18.233 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:01:48.244 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:01:48.244 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:01:48.244 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:01:48.244 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:01:48.248 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:01:48.248 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:01:48.248 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:02:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:02:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:02:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:02:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:02:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@10dda9e3] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:02:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:02:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:02:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:02:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:02:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:02:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:02:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:02:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:02:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:02:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:02:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"484", Set-Cookie:"__cf_bm=mrC65a0B3HitZq1SzXR_7upP0OkOCq6n6aSmVJBajJE-1684868520-0-AWmtLSUmTOFusEgFvA1f3HtAYL1IbVN4XqD4OWAYD3SNpOhohRqeTgNlEFLzV2MYtRYJxKGZ+Im9OVNjLFwvhk0=; path=/; expires=Tue, 23-May-23 19:32:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf8cfd0b8703b8-FRA"]
2023-05-23 22:02:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:02:00.196 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:02:00.196 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:02:18.249 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:02:18.249 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:02:18.250 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:02:18.250 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:02:18.252 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:02:18.253 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:02:18.253 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:02:48.263 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:02:48.263 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:02:48.264 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:02:48.264 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:02:48.266 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:02:48.266 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:02:48.267 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:03:18.281 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:03:18.281 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:03:18.282 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:03:18.282 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:03:18.284 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:03:18.284 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:03:18.284 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:03:48.288 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:03:48.288 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:03:48.288 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:03:48.288 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:03:48.291 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:03:48.291 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:03:48.291 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:04:00.017  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:04:00.017  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:04:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:04:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:04:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@4c0c0f7] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:04:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:04:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:04:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:04:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:04:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:04:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:04:00.210 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:04:00.210 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:04:00.210 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:04:00.210 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:04:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"364", Set-Cookie:"__cf_bm=yrx87WULMosIBtVp6evYcwpi51fmMQrbhD69ulV.sOQ-1684868640-0-ATZsclDxbTp8ch59rsC4jBzi1oeMhQ4JZtIB+nropQFN4DHKBfOeb/lgSv2IxQ+vrkV1VybglzsJQGNfs2xDfhU=; path=/; expires=Tue, 23-May-23 19:34:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf8feb2eef1da8-FRA"]
2023-05-23 22:04:00.210 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:04:00.210 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:04:00.210 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:04:16.307  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:04:18.300 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:04:18.300 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:04:18.300 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:04:18.300 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:04:18.303 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:04:18.303 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:04:18.303 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:04:48.318 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:04:48.318 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:04:48.319 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:04:48.319 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:04:48.321 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:04:48.321 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:04:48.321 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:05:18.334 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:05:18.334 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:05:18.334 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:05:18.334 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:05:18.337 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:05:18.337 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:05:18.338 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:05:48.345 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:05:48.345 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:05:48.345 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:05:48.345 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:05:48.349 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:05:48.349 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:05:48.349 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:06:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:06:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:06:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:06:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:06:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@45439ff] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:06:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:06:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:06:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:06:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:06:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:06:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:06:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"244", Set-Cookie:"__cf_bm=opNQZLfSbFrVyIEZ_DwUP7J3OGc8vTfJr9v.ze5pLik-1684868760-0-AZaAjSiG+I06oI7ROOKT5QQHDbk4Y0dSKeiYF4y9cA/chiUb+LAF+jY7qOBexZbfKPCe3fyNXLkAj/NFqaDDCuQ=; path=/; expires=Tue, 23-May-23 19:36:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf92d90b82bba7-FRA"]
2023-05-23 22:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:06:00.187 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:06:00.188 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:06:18.359 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:06:18.359 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:06:18.359 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:06:18.359 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:06:18.362 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:06:18.362 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:06:18.362 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:06:48.378 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:06:48.378 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:06:48.378 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:06:48.378 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:06:48.381 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:06:48.381 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:06:48.382 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:07:18.386 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:07:18.386 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:07:18.386 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:07:18.386 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:07:18.389 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:07:18.389 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:07:18.389 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:07:48.390 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:07:48.390 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:07:48.390 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:07:48.390 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:07:48.394 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:07:48.394 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:07:48.394 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:08:00.014  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:08:00.014  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:08:00.017 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:08:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:08:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@49fc9711] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:08:00.019 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:08:00.214 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:08:00.214 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:08:00.214 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:08:00.214 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:08:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"124", Set-Cookie:"__cf_bm=B37z4_lcG6n5zXHrSIW1b_bAJ3cb9TPKcP9MdN6IDoM-1684868880-0-AemvRcIZgEd7/y1K5+zGLTcc2BUBVP5foIFuHThQtgEB9DDMYw9fh1SmWShTqH3rnC7JqekkkMsV63bFPjiPZQU=; path=/; expires=Tue, 23-May-23 19:38:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf95c72b289137-FRA"]
2023-05-23 22:08:00.214 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:08:00.214 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:08:00.214 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:08:18.404 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:08:18.404 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:08:18.404 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:08:18.404 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:08:18.407 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:08:18.407 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:08:18.407 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:08:48.422 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:08:48.422 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:08:48.423 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:08:48.423 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:08:48.426 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:08:48.426 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:08:48.426 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:09:16.311  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:09:18.432 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:09:18.432 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:09:18.432 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:09:18.432 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:09:18.435 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:09:18.435 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:09:18.435 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:09:48.444 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:09:48.444 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:09:48.444 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:09:48.444 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:09:48.447 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:09:48.447 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:09:48.447 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:10:00.011  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:10:00.012  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:10:00.015 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:10:00.015 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:10:00.015 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@7502fb0f] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:10:00.016 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:10:00.016 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:10:00.016 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:10:00.016 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:10:00.016 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:10:00.016 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:10:00.218 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:10:00.218 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:10:00.219 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:10:00.219 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:10:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"4", Set-Cookie:"__cf_bm=ZAcleBrOTDYvpzpH64Jqg8yHnqUBmrTxelEERUTE36o-1684869000-0-AeOGnHj7D20vHMA57wpuq/GEu/cZnhtN6MZXZTfh6Dqq51HE4ZDQ2lBQSgK70/glrUIk/faiGETnVTE7MSCmQ2Y=; path=/; expires=Tue, 23-May-23 19:40:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf98b52db7039a-FRA"]
2023-05-23 22:10:00.219 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:10:00.219 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:10:00.219 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:10:18.453 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:10:18.453 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:10:18.453 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:10:18.453 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:10:18.456 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:10:18.456 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:10:18.456 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:10:48.465 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:10:48.465 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:10:48.465 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:10:48.465 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:10:48.468 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:10:48.468 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:10:48.468 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:11:18.479 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:11:18.479 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:11:18.479 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:11:18.479 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:11:18.482 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:11:18.482 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:11:18.482 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:11:48.498 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:11:48.498 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:11:48.498 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:11:48.498 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:11:48.501 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:11:48.501 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:11:48.502 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:12:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:12:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:12:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:12:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@211e7d34] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:12:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:12:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:12:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:12:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:12:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:12:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:12:00.607 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:12:00.607 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:12:00.607 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:12:00.607 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:12:00 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"9fa69c68f9ea5624a6226294ffe33e8c"", X-Request-Id:"e110da40-ec22-4304-83e8-c1663eba3dc6", X-Runtime:"0.264793", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:14:00 GMT", Set-Cookie:"__cf_bm=PfqRNDIqwJBJs0YL9YtB2Wj7ix8imX6_y.hFuB7ENtM-1684869120-0-AaUMX9FYOq3AWGsED/pDy7zwDC3e2wUuw9jgFvMDsSUbK15G2FFiQqD3xF61stL/3FNzcKBMo1me0zMC0n8NIGY=; path=/; expires=Tue, 23-May-23 19:42:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbf9ba318a9bb62-FRA"]
2023-05-23 22:12:00.608 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:12:00.608 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:12:00.608 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:12:00.663 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:12:00.663 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:00.663 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@280cf405] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:12:00.664 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:12:00.664 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:12:00.664 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:12:00.664 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:12:00.664 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:12:00.664 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:12:01.239 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:12:01.239 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:12:01.239 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:12:01.239 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:12:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"b8b0c65d5ef5e51d6b0a6d18f9747ccd"", X-Request-Id:"15790967-fef8-470b-9f91-8fe5bd1e1f4e", X-Runtime:"0.264695", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:14:01 GMT", Set-Cookie:"__cf_bm=fIZo_GPAS9I8HM.ocs.zpNr4fzMGglmav45HzaSHcPw-1684869121-0-AUa6ya8pkLVJl0plizLIl2UlvuqoehBlzKjt/H3Lk3n+Orl5ZIcLNL8Zuk6LEMHW2h9ex85JkxwV46+O3EDgfqo=; path=/; expires=Tue, 23-May-23 19:42:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbf9ba72e649040-FRA"]
2023-05-23 22:12:01.239 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:12:01.239 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:12:01.239 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:12:01.291 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:12:01.292 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:01.292 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@74bf8656] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:12:01.292 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:12:01.292 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:12:01.292 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:12:01.292 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:12:01.293 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:12:01.293 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:12:01.921 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:12:01.921 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:12:01.921 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:12:01.921 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:12:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"a1c0101d841aaa584a26dac1345b4a9e"", X-Request-Id:"e2b15373-08e0-4c7a-9b99-e8891470d425", X-Runtime:"0.318746", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:14:02 GMT", Set-Cookie:"__cf_bm=6vxDRmPtTvCJA1JyJ.nJYXNganPd6bwmzgMlqJamuBM-1684869122-0-AUXyo5xbb17n2MzNMKmlbbvDi49QkvK9mkviDYz5Rphe12Mb+QOyi4I1IDgxpglTeUFypha4FlDcIo63r43mLOw=; path=/; expires=Tue, 23-May-23 19:42:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbf9bab098e3a9c-FRA"]
2023-05-23 22:12:01.921 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:12:01.921 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:12:01.921 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:12:01.988 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:12:01.988 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:01.988 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@5b8b0b37] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:12:01.988 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:12:01.988 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:12:01.989 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:12:01.989 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:12:01.989 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:12:01.989 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:12:02.165 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:12:02.166 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:12:02.166 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:12:02.166 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:12:02 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=9tnBSQ7m7kQhSSrDuH0JMNUVumx.Yk51NvFmHaS17dw-1684869122-0-AUATaO0D4ubo/qd+O3XMm2F1FQ9dh3+H05ZUKMsFHm5Q0C8A75C12+2nYx0VtGJWGn7VD7hVQQk6d59HWm+fdtk=; path=/; expires=Tue, 23-May-23 19:42:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf9baf5d801c9d-FRA"]
2023-05-23 22:12:02.166 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:12:02.166 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:12:02.167 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:12:18.504 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:12:18.504 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:12:18.504 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:18.504 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:18.507 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:12:18.507 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:12:18.507 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:12:48.520 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:12:48.520 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:12:48.520 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:48.520 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:12:48.523 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:12:48.523 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:12:48.523 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:13:18.527 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:13:18.527 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:13:18.527 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:13:18.527 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:13:18.529 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:13:18.529 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:13:18.529 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:13:48.539 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:13:48.539 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:13:48.539 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:13:48.539 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:13:48.542 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:13:48.542 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:13:48.542 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:14:00.005  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:14:00.005  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:14:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:14:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:14:00.009 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@73325837] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:14:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:14:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:14:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:14:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:14:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:14:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:14:00.204 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:14:00.204 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:14:00.204 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:14:00.204 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:14:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"482", Set-Cookie:"__cf_bm=w2.MNKIpPxzWSCC54041NN2skUHs5FVwrduzMN7JJmo-1684869240-0-AZ2h72TAaqld0pLVIGIqEuQdksjfuOXsKYUftQ96VjKGM8dEwMjH7oZkvIN3sdfD7NDDOkjyYM/TwT+yFdyb7E0=; path=/; expires=Tue, 23-May-23 19:44:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbf9e911a15924f-FRA"]
2023-05-23 22:14:00.204 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:14:00.204 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:14:00.204 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:14:16.320  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:14:18.553 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:14:18.553 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:14:18.553 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:14:18.553 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:14:18.556 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:14:18.556 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:14:18.556 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:14:48.564 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:14:48.564 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:14:48.564 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:14:48.564 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:14:48.567 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:14:48.567 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:14:48.567 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:15:18.569 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:15:18.569 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:15:18.572 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:15:18.572 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:15:18.573 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:15:18.577 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:15:18.579 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:15:48.581 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:15:48.581 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:15:48.581 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:15:48.581 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:15:48.584 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:15:48.584 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:15:48.584 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:16:00.008  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:16:00.008  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:16:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:16:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:16:00.012 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@37718bb1] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:16:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:16:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:16:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:16:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:16:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:16:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:16:00.186 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:16:00.186 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:16:00.186 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:16:00.186 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:16:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"362", Set-Cookie:"__cf_bm=RWpC5WuXcswPm33CRByiFRBFf5fdN14Ux2ddeAwe3kQ-1684869360-0-ATqOBxq81OTWle8bXoPI36/MqHle+DEKi6uTd8PQMAWAyaa2OSErn9qkmmE7nbNgtZB3TQfhlEjY7c4fpST8nJQ=; path=/; expires=Tue, 23-May-23 19:46:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfa17efcb19b45-FRA"]
2023-05-23 22:16:00.186 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:16:00.186 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:16:00.187 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:16:18.596 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:16:18.596 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:16:18.596 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:16:18.596 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:16:18.598 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:16:18.598 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:16:18.598 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:16:48.601 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:16:48.601 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:16:48.601 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:16:48.601 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:16:48.604 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:16:48.604 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:16:48.604 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:17:18.612 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:17:18.612 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:17:18.612 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:17:18.612 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:17:18.615 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:17:18.615 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:17:18.615 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:17:48.618 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:17:48.618 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:17:48.618 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:17:48.618 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:17:48.621 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:17:48.621 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:17:48.621 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:18:00.001  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:18:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:18:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:18:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:18:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@3d7d58fa] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:18:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:18:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:18:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:18:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:18:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"242", Set-Cookie:"__cf_bm=771nqpcY25i_PIrn32.1fRb8dbgLuRyErjlxFnnrdLM-1684869480-0-Aanswlr1Z5UN2MHvT+hbEoZG/A+BggsCMxDKfhmd9hbbVg1CC9+mXxokNFakMKZ/BUPXpdQFyRQSvxThwNYoaNQ=; path=/; expires=Tue, 23-May-23 19:48:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfa46d0cf030f4-FRA"]
2023-05-23 22:18:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:18:00.191 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:18:00.191 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:18:18.626 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:18:18.626 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:18:18.626 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:18:18.626 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:18:18.629 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:18:18.629 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:18:18.629 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:18:48.630 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:18:48.630 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:18:48.630 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:18:48.630 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:18:48.633 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:18:48.633 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:18:48.633 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:19:16.322  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:19:18.637 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:19:18.637 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:19:18.637 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:19:18.637 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:19:18.640 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:19:18.640 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:19:18.640 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:19:48.646 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:19:48.646 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:19:48.646 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:19:48.646 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:19:48.648 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:19:48.648 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:19:48.649 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:20:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:20:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:20:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:20:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:20:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2145c100] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:20:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:20:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:20:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:20:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:20:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:20:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:20:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:20:00.197 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:20:00.197 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:20:00.197 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:20:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"122", Set-Cookie:"__cf_bm=5wKzUShJY2nPbyuB0YrrZt1UdHHy1D9s3y5.Pm089BM-1684869600-0-ARqBjQPDFiVW1bgTO358oNox1dylpu7XcMyzq9RaThfp91i7Wicq/jwg4+cTaGZodhV9LCxY1DheOcbONr9ucck=; path=/; expires=Tue, 23-May-23 19:50:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfa75b0a509262-FRA"]
2023-05-23 22:20:00.197 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:20:00.197 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:20:00.197 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:20:18.660 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:20:18.660 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:20:18.660 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:20:18.660 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:20:18.662 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:20:18.662 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:20:18.662 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:20:48.675 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:20:48.675 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:20:48.675 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:20:48.675 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:20:48.677 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:20:48.677 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:20:48.678 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:21:18.691 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:21:18.691 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:21:18.691 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:21:18.691 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:21:18.693 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:21:18.693 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:21:18.694 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:21:48.701 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:21:48.701 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:21:48.701 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:21:48.701 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:21:48.703 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:21:48.703 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:21:48.703 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:22:00.009  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:22:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:22:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:22:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:22:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@ba68dff] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:22:00.215 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:22:00.215 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:22:00.215 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:22:00.215 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:22:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"2", Set-Cookie:"__cf_bm=8qQmW.N7L9KX_xp_wE3GZAErxV9C7dTqjN.vnc21b78-1684869720-0-AZcg8ehov1uPgny0aktZjKc276I5Wtkj8Ooc0dKnBcfr/PywKsBQshYc7KC42sbLzPzpt+TMYkBCcV2K3C0xpXc=; path=/; expires=Tue, 23-May-23 19:52:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfaa492fb91970-FRA"]
2023-05-23 22:22:00.215 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:22:00.215 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:22:00.215 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:22:18.713 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:22:18.713 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:22:18.713 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:22:18.713 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:22:18.716 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:22:18.716 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:22:18.716 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:22:48.722 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:22:48.722 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:22:48.722 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:22:48.722 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:22:48.725 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:22:48.725 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:22:48.725 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:23:18.735 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:23:18.735 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:23:18.735 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:23:18.735 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:23:18.737 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:23:18.737 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:23:18.738 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:23:48.743 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:23:48.743 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:23:48.743 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:23:48.743 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:23:48.745 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:23:48.745 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:23:48.746 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:24:00.016  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:24:00.016  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:24:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2f5ad0d1] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:24:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:24:01.103 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:24:01.104 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:24:01.104 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:24:01.104 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:24:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"abe56d95c42c7fdeee051dc41d8803de"", X-Request-Id:"3147a834-91b7-4c2d-91a8-7c0582183ef1", X-Runtime:"0.279294", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:26:01 GMT", Set-Cookie:"__cf_bm=1LPcbucgAL1XqODHJhUUvFaaE6XyJCBHgbAtMay0e4k-1684869841-0-AVkDYBvdUZwIylPyjjQfWU1cAUKsHecf0YBx5/AS/YZS11YatKzQOZgS5NB7CohXSjgTS2luIOusiYLMfCibb4w=; path=/; expires=Tue, 23-May-23 19:54:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfad3729bf1db0-FRA"]
2023-05-23 22:24:01.104 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:24:01.104 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:24:01.104 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:24:01.173 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:24:01.173 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:01.174 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@21fc0b43] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:24:01.174 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:24:01.174 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:24:01.174 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:24:01.174 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:24:01.174 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:24:01.174 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:24:01.847 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:24:01.847 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:24:01.847 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:24:01.847 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:24:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"7c43c60f1ef2a4eb653f555af6df4a4c"", X-Request-Id:"a736ca63-e151-4dba-ad2b-647ada44f2d2", X-Runtime:"0.323055", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:26:02 GMT", Set-Cookie:"__cf_bm=ph3ByvzjaGy7dfDotvgXAHupKe20S9VQoaqRjRNIR7E-1684869842-0-AR0Y8ykhov82TblFq0aVnHLr4RwJ5UI8F2e+gA6Fp7OqEsQSiarD5xkymS5U72T0E4CH8pbT7xN6SaIBacwYfZM=; path=/; expires=Tue, 23-May-23 19:54:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfad3e6f146967-FRA"]
2023-05-23 22:24:01.847 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:24:01.847 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:24:01.847 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@28c1df0b] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:24:01.902 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:24:02.578 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:24:02.578 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:24:02.578 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:24:02.578 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:24:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"35337fa3a55650aa53c0198e164e9c09"", X-Request-Id:"80040cf1-5578-4fcf-b624-c958ac1debac", X-Runtime:"0.344542", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:26:02 GMT", Set-Cookie:"__cf_bm=vb.bJ_Y3q5DshFDABDH_qKSeBY12iw5Z0YxbEbq3wp4-1684869842-0-AR9HjrOFK9khejH8PIIoVOG0F+lrJGPsZV0OQdk/SzY9p0zzHDSOFbi0olQGEe0WleXyBq4wNoHHoYocpxoXqzw=; path=/; expires=Tue, 23-May-23 19:54:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfad42dc903686-FRA"]
2023-05-23 22:24:02.578 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:24:02.578 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:24:02.579 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:24:02.653 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:24:02.653 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:02.653 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@3dde9465] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:24:02.653 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:24:02.653 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:24:02.654 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:24:02.654 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:24:02.654 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:24:02.654 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:24:02.848 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:24:02.848 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:24:02.848 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:24:02.848 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:24:03 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=ZJPv_PT8p.QFcFx7mXZi22o8JM7qfanGpmzbTyWz7HE-1684869843-0-AYc4SRO7TdQu2YsbfBV+xe4lc9v0BcwonLj+aRZrr1QqVQn8Rn8YUxtGjTC7RqzSfpw2oZ3MKFZ9gFmU/NfxnT4=; path=/; expires=Tue, 23-May-23 19:54:03 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfad47991a382a-FRA"]
2023-05-23 22:24:02.848 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:24:02.848 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:24:02.848 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:24:16.325  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:24:18.755 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:24:18.755 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:24:18.755 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:18.755 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:18.758 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:24:18.758 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:24:18.758 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:24:48.764 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:24:48.764 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:24:48.764 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:48.764 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:24:48.766 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:24:48.766 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:24:48.767 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:25:18.779 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:25:18.779 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:25:18.779 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:25:18.779 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:25:18.781 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:25:18.781 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:25:18.781 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:25:48.790 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:25:48.790 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:25:48.793 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:25:48.794 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:25:48.799 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:25:48.800 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:25:48.800 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:26:00.008  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:26:00.009  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:26:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:26:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:26:00.012 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@7d6923b4] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:26:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:26:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:26:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:26:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:26:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:26:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:26:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:26:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:26:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:26:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:26:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"483", Set-Cookie:"__cf_bm=Ly2Cm7TXhonm97jcHW.aGQMCn4sL.PVh0A8GjHE2qOk-1684869960-0-ASChkdHPo7bzWdBxaiymKDREpv0Og7QoVUC0PjvWCTkmUQZzOo7SaLNwzd/ZpLv61+/kWJ9JAdsH0rzPzgF6KiE=; path=/; expires=Tue, 23-May-23 19:56:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfb02509d50472-FRA"]
2023-05-23 22:26:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:26:00.205 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:26:00.205 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:26:18.796 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:26:18.796 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:26:18.798 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:26:18.812 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:26:18.812 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:26:18.814 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:26:18.814 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:26:48.807 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:26:48.807 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:26:48.810 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:26:48.823 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:26:48.823 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:26:48.824 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:26:48.825 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:27:18.824 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:27:18.824 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:27:18.826 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:27:18.827 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:27:18.827 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:27:18.828 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:27:18.828 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:27:48.832 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:27:48.832 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:27:48.832 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:27:48.832 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:27:48.834 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:27:48.834 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:27:48.835 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:28:00.005  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:28:00.005  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:28:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:28:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:28:00.009 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2e62c28c] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:28:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:28:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:28:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:28:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:28:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:28:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:28:00.198 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:28:00.199 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:28:00.199 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:28:00.199 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:28:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"363", Set-Cookie:"__cf_bm=80OaJiT2vH7lY5H04n7xoAelp5MLhkOBxNr8xqo4wjk-1684870080-0-ASeZeJxbK3nLMu/bSeO1P/npgUZnfQiAVKOySQpO0Vmbat2rvJLIlRbuF2PTRmkIc8MNud/Ttm/eljlgax/ggLA=; path=/; expires=Tue, 23-May-23 19:58:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfb3130ae61907-FRA"]
2023-05-23 22:28:00.199 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:28:00.199 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:28:00.199 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:28:18.844 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:28:18.844 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:28:18.844 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:28:18.844 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:28:18.846 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:28:18.846 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:28:18.847 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:28:48.847 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:28:48.847 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:28:48.847 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:28:48.847 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:28:48.849 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:28:48.849 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:28:48.849 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:29:16.336  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:29:18.863 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:29:18.863 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:29:18.863 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:29:18.863 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:29:18.865 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:29:18.865 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:29:18.865 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:29:48.867 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:29:48.867 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:29:48.867 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:29:48.867 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:29:48.869 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:29:48.869 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:29:48.869 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:30:00.015  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:30:00.015  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:30:00.018 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:30:00.018 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:30:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@60e8ca7b] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:30:00.019 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:30:00.019 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:30:00.019 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:30:00.019 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:30:00.019 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:30:00.019 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:30:00.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:30:00.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:30:00.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:30:00.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:30:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"243", Set-Cookie:"__cf_bm=pP8LOpGyD7Tax_uqJMUl0rV..4Hh1bOSnKiy4jkLHA0-1684870200-0-AbivuwKJx2ZtRSNTgYr4ngBbfRTM6WBFiwCvylPcvzZOBunqcpU9xxZbXY4wBzOem3acZlwSBdOSd7jGjDmffwE=; path=/; expires=Tue, 23-May-23 20:00:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfb600fc7b9b37-FRA"]
2023-05-23 22:30:00.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:30:00.193 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:30:00.194 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:30:18.872 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:30:18.872 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:30:18.872 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:30:18.872 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:30:18.874 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:30:18.874 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:30:18.874 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:30:48.875 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:30:48.875 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:30:48.875 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:30:48.875 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:30:48.877 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:30:48.877 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:30:48.878 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:31:18.880 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:31:18.880 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:31:18.880 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:31:18.880 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:31:18.882 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:31:18.882 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:31:18.883 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:31:48.898 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:31:48.898 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:31:48.898 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:31:48.898 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:31:48.901 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:31:48.901 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:31:48.901 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:32:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:32:00.004  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:32:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:32:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:32:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@5c243132] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:32:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:32:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:32:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:32:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:32:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:32:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:32:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:32:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:32:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:32:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:32:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"123", Set-Cookie:"__cf_bm=NUlgiozGqmcpzo6KCGusPYhKfRQ_RDWSl5S0Bj_dYzI-1684870320-0-Ab2xBHcVN0wZVysiryT48OvVUvfEw4Xb9W/ZMHvFszq4OryFX4DUES1Iijjp9KRMBwBkXDt8K8BO3v/QAhaCpzc=; path=/; expires=Tue, 23-May-23 20:02:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfb8eef84f9bfe-FRA"]
2023-05-23 22:32:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:32:00.196 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:32:00.196 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:32:18.908 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:32:18.908 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:32:18.908 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:32:18.908 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:32:18.910 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:32:18.910 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:32:18.911 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:32:48.925 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:32:48.925 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:32:48.925 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:32:48.925 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:32:48.927 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:32:48.927 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:32:48.927 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:33:18.929 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:33:18.929 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:33:18.929 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:33:18.929 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:33:18.931 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:33:18.931 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:33:18.931 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:33:48.948 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:33:48.948 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:33:48.950 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:33:48.950 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:33:48.951 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:33:48.954 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:33:48.956 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:34:00.014  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:34:00.015  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:34:00.017 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:34:00.017 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:34:00.018 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@7fc4e901] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:34:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:34:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:34:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:34:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:34:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:34:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:34:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:34:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:34:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:34:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:34:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"3", Set-Cookie:"__cf_bm=LMFXrL5mEEjReMsbRxneAL3uQWO1_iFrgFy3xKpUnH8-1684870440-0-AUtmih2X0jVki+TN7PxUzDIlkgnw4h3vxsFQ6fFyy7cpzIMXcAzMTUDLd08OZQXY5EpV6C+ZJaP8GBlUJ6c6dJI=; path=/; expires=Tue, 23-May-23 20:04:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfbbdcfc3f9001-FRA"]
2023-05-23 22:34:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:34:00.191 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:34:00.191 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:34:16.349  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:34:18.956 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:34:18.956 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:34:18.958 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:34:18.958 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:34:18.958 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:34:18.959 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:34:18.960 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:34:48.970 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:34:48.970 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:34:48.970 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:34:48.970 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:34:48.972 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:34:48.972 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:34:48.972 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:35:18.978 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:35:18.978 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:35:18.978 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:35:18.978 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:35:18.980 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:35:18.980 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:35:18.980 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:35:48.991 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:35:48.991 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:35:48.991 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:35:48.991 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:35:48.993 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:35:48.993 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:35:48.993 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:36:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:36:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:36:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:36:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@728523d7] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:36:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:36:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:36:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:36:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:36:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:36:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:36:00.563 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:36:00.564 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:36:00.564 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:36:00.564 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:36:00 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"98b3da0ffe46bc103e51b32ac02848a4"", X-Request-Id:"e09f041a-da1c-4202-a98a-b76f7c9fc801", X-Runtime:"0.244678", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 19:38:00 GMT", Set-Cookie:"__cf_bm=NCc_JDWjbTQQm8LX_b60ryFbZSJ2XCMJvhDcjFHr6hI-1684870560-0-AdciYJhCjext7OuWsaHdn89g9wufsNX4BDhViRboCqsAtKPfp/Fxmpwp4hEurHL2PEfZSHBEv00VmDhlWJVX7ss=; path=/; expires=Tue, 23-May-23 20:06:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfbecaefdc1c28-FRA"]
2023-05-23 22:36:00.564 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:36:00.564 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:36:00.564 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:36:00.616 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:36:00.616 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:00.617 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@49d1b362] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:36:00.617 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:36:00.617 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:36:00.617 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:36:00.617 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:36:00.617 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:36:00.617 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:36:01.267 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:36:01.267 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:36:01.267 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:36:01.267 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:36:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"3c2d1d52cbdeb4a2f5c2f65f23dd653c"", X-Request-Id:"af524627-2af4-41f5-aad1-91bf1d4dc208", X-Runtime:"0.338717", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:38:01 GMT", Set-Cookie:"__cf_bm=djjNNeGJwg86xemkA1RESwynJfV7ErtMI9UrvjrXaAY-1684870561-0-AdELwSiQoY0+CcEvBjpcs2WOGL6rHy2XZzB8inyqH54VECOzDU3XZ99qF859hVH/Zwyd+QwTk3RuHvQlxwlLZA8=; path=/; expires=Tue, 23-May-23 20:06:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfbecebdd0196a-FRA"]
2023-05-23 22:36:01.267 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:36:01.267 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:36:01.267 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:36:01.349 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:36:01.349 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:01.350 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@3f081c64] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:36:01.350 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:36:01.350 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:36:01.350 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:36:01.350 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:36:01.350 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:36:01.350 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:36:02.076 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:36:02.076 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:36:02.076 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:36:02.076 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:36:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"6f5a84f8da149fa1dc7ff76ddf5905bd"", X-Request-Id:"6add9d95-19b6-4a66-b823-4964a0c809cd", X-Runtime:"0.367664", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:38:02 GMT", Set-Cookie:"__cf_bm=bPfwh8jV4khQHIKGHOuLrE2z.KEMbpHvt1g2MaXL6do-1684870562-0-AbOSfhTNpOYW1RfNR+VzQvWp2tMv8iZqg5nZBJGoN5FuiaKQ+Bk2uWc3ZyNrDj3tXdoe5tVZdwTfJy6oaqYCTts=; path=/; expires=Tue, 23-May-23 20:06:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfbed34a30bb50-FRA"]
2023-05-23 22:36:02.076 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:36:02.076 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:36:02.076 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:36:02.156 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:36:02.156 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:02.156 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@6449c1ba] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:36:02.157 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:36:02.157 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:36:02.157 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:36:02.157 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:36:02.157 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:36:02.157 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:36:02.334 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:36:02.334 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:36:02.334 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:36:02.334 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:36:02 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=mftsmNAvbjOremnht_FWrgokhN6.DhTsu0kBrvtGb8U-1684870562-0-AaTddWv+kOP8K2cCkQ51O79hoJaZ4nV3qu9aS5aNOv7Yc3CQo6hPMxZ0V7xMiz6VcEk5Upc6ZnSd22LbV9vacSc=; path=/; expires=Tue, 23-May-23 20:06:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfbed85c789bb8-FRA"]
2023-05-23 22:36:02.334 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:36:02.334 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:36:02.334 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:36:19.009 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:36:19.009 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:36:19.009 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:19.009 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:19.011 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:36:19.011 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:36:19.011 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:36:49.018 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:36:49.018 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:36:49.018 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:49.018 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:36:49.020 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:36:49.020 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:36:49.020 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:37:19.032 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:37:19.032 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:37:19.032 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:37:19.032 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:37:19.034 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:37:19.034 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:37:19.034 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:37:49.046 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:37:49.046 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:37:49.046 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:37:49.046 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:37:49.049 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:37:49.049 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:37:49.049 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:38:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:38:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:38:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:38:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:38:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@83da233] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:38:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:38:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:38:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:38:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:38:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:38:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:38:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:38:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:38:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:38:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:38:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"482", Set-Cookie:"__cf_bm=6ZCwnfe6CCp6tkJdetZaCwlKV8GFjxcX.ZVCrv1o6cg-1684870680-0-AYooM0Ms0u0b75auNgR8rDmGOZspuB/pqEQfhI+zcN2Wp5Nt29VfLAHl8lEOh1WP2fow0RnPGsZpLdBvXSOaqkk=; path=/; expires=Tue, 23-May-23 20:08:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfc1b8f8e03aa4-FRA"]
2023-05-23 22:38:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:38:00.196 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:38:00.197 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:38:19.052 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:38:19.052 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:38:19.052 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:38:19.052 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:38:19.054 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:38:19.054 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:38:19.054 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:38:49.057 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:38:49.057 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:38:49.057 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:38:49.057 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:38:49.059 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:38:49.059 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:38:49.059 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:39:16.352  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:39:19.070 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:39:19.070 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:39:19.070 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:39:19.070 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:39:19.072 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:39:19.072 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:39:19.072 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:39:49.084 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:39:49.084 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:39:49.084 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:39:49.084 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:39:49.086 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:39:49.086 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:39:49.086 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:40:00.016  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:40:00.017  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:40:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:40:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:40:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@202b232c] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:40:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:40:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:40:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:40:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:40:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:40:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:40:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:40:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:40:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:40:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:40:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"362", Set-Cookie:"__cf_bm=eWi8MlUCCRFRPkT4uJVCXnqBmW2k_A_cP19X8xDY9Js-1684870800-0-ATaxzHV5QPjl/zNBBwWhEZHnODLXt67ETtpug93TAEFxlbNfrmdPKIMcrPPTGknoLJkEFWB8Mb0NfKQrBhNLWJY=; path=/; expires=Tue, 23-May-23 20:10:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfc4a6fd2e3603-FRA"]
2023-05-23 22:40:00.205 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:40:00.205 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:40:00.206 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:40:19.096 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:40:19.096 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:40:19.096 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:40:19.096 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:40:19.098 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:40:19.098 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:40:19.098 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:40:49.106 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:40:49.106 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:40:49.106 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:40:49.106 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:40:49.108 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:40:49.108 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:40:49.108 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:41:19.124 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:41:19.124 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:41:19.124 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:41:19.124 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:41:19.126 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:41:19.126 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:41:19.126 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:41:49.128 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:41:49.128 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:41:49.128 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:41:49.128 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:41:49.130 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:41:49.130 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:41:49.130 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:42:00.009  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:42:00.009  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:42:00.012 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:42:00.012 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:42:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@42cd9ae5] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:42:00.013 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:42:00.013 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:42:00.013 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:42:00.013 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:42:00.013 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:42:00.013 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:42:00.201 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:42:00.201 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:42:00.201 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:42:00.201 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:42:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"242", Set-Cookie:"__cf_bm=wHMAh.k5r8F.e2Ll88uqUfMYRmIJpU.uRN85ljqusbI-1684870920-0-AfHvy4RRzL3JgiT+n2f3i+rDGzj+MRGKfn/JmuQ15gJrh0yxIguYrKBMWD4bLl0eZABd8x+fAXBRCwZdQgyfnpQ=; path=/; expires=Tue, 23-May-23 20:12:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfc794ff06365a-FRA"]
2023-05-23 22:42:00.202 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:42:00.202 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:42:00.202 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:42:19.140 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:42:19.140 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:42:19.140 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:42:19.140 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:42:19.142 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:42:19.142 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:42:19.142 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:42:49.153 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:42:49.153 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:42:49.153 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:42:49.153 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:42:49.156 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:42:49.156 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:42:49.156 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:43:19.169 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:43:19.169 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:43:19.169 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:43:19.169 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:43:19.171 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:43:19.171 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:43:19.171 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:43:49.175 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:43:49.175 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:43:49.175 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:43:49.175 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:43:49.177 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:43:49.177 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:43:49.177 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:44:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:44:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:44:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:44:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:44:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2d2f9ca3] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:44:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:44:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:44:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:44:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:44:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:44:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:44:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:44:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:44:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:44:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:44:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"122", Set-Cookie:"__cf_bm=Ejf_qW10DmJi.KYwn2qZWk2YeYCWHnE_uSOkNgolw3c-1684871040-0-AdSBBg5pRtWJ/MLphgJMK/uGhc9H/zuOUYtiF5QIpfy/a+ZeJkXfUnEcvayrXxiDpssfxOFhV5GqlRq/CEA4kkE=; path=/; expires=Tue, 23-May-23 20:14:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfca82feeb30d0-FRA"]
2023-05-23 22:44:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:44:00.196 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:44:00.196 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:44:16.353  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:44:19.194 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:44:19.194 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:44:19.194 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:44:19.194 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:44:19.196 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:44:19.196 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:44:19.196 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:44:49.198 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:44:49.198 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:44:49.198 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:44:49.198 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:44:49.200 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:44:49.200 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:44:49.200 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:45:19.206 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:45:19.206 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:45:19.206 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:45:19.206 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:45:19.208 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:45:19.208 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:45:19.208 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:45:49.216 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:45:49.216 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:45:49.216 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:45:49.216 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:45:49.218 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:45:49.218 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:45:49.218 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:46:00.006  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:46:00.007  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:46:00.009 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:46:00.009 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:46:00.010 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@a931a2b] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:46:00.010 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:46:00.010 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:46:00.010 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:46:00.010 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:46:00.010 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:46:00.010 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:46:00.184 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:46:00.184 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:46:00.184 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:46:00.184 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:46:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"2", Set-Cookie:"__cf_bm=BDz_bOdLwp9PnFU1dLsugTuOqj6KGcYzhzHTfhDra6E-1684871160-0-AaMyLFWBDnpRirssM4eF9Xq1l8AFn83GGdPLpTMjB/sCJT9W09tRaal4ptoDGmwcKuj2+z1FpxbWl/2lKO+ij2o=; path=/; expires=Tue, 23-May-23 20:16:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfcd70dff11957-FRA"]
2023-05-23 22:46:00.184 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:46:00.184 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:46:00.185 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:46:19.224 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:46:19.224 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:46:19.224 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:46:19.224 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:46:19.226 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:46:19.226 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:46:19.227 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:46:49.241 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:46:49.241 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:46:49.241 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:46:49.241 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:46:49.244 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:46:49.244 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:46:49.244 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:47:19.250 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:47:19.250 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:47:19.250 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:47:19.250 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:47:19.252 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:47:19.252 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:47:19.252 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:47:49.254 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:47:49.254 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:47:49.254 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:47:49.254 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:47:49.256 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:47:49.256 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:47:49.256 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:48:00.013  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:48:00.013  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:48:00.016 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:48:00.016 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:00.016 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@4fc206f8] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:48:00.017 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:48:00.017 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:48:00.017 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:48:00.017 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:48:00.017 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:48:00.017 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:48:00.605 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:48:00.606 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:48:00.606 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:48:00.606 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:48:00 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"d2d3511fdaedbae7e4ba5f3e9ed552fe"", X-Request-Id:"fa8517d8-382d-45c5-8a7f-fde22df28196", X-Runtime:"0.272758", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:50:00 GMT", Set-Cookie:"__cf_bm=2BfM.3Q126RGkTEapN7.kJ2i4uhYdPxNRkKAovoiSmA-1684871280-0-AZ8XbQQ8pSKEEkrR7KpO0qNuh4fVF/puZBNMGT2XBCYsFGprlIsRSJZLhoOaJQhvBJ5mS1XJuzTGPzqRw9Gb/Jc=; path=/; expires=Tue, 23-May-23 20:18:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfd05efdd51a6d-FRA"]
2023-05-23 22:48:00.606 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:48:00.606 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:48:00.606 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:48:00.660 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:48:00.660 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:00.661 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@151da2fe] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:48:00.661 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:48:00.661 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 22:48:00.661 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:48:00.661 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:48:00.661 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:48:00.661 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:48:01.241 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:48:01.241 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:48:01.241 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:48:01.241 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:48:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"90448fe9f9d19e510b65ff027fd100f9"", X-Request-Id:"36c23be3-09aa-42f6-851a-4a1ec3cfd03a", X-Runtime:"0.266658", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:50:01 GMT", Set-Cookie:"__cf_bm=hCytP3tl_JQoePaXtUTBAa6VzNsgeWnqlVLKT8HNKfk-1684871281-0-AUL1LgtpXAozCWG7mf/b2wNlEJBkYZ+sSdVg67Jgxl9DiWQaTim2VYv7Ptb4yJ7QkTlPwJ+Ukq3oa+XYInz0F30=; path=/; expires=Tue, 23-May-23 20:18:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfd062fc8e365c-FRA"]
2023-05-23 22:48:01.241 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:48:01.241 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:48:01.241 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:48:01.294 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:48:01.294 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:01.295 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@46ef2aed] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:48:01.295 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:48:01.295 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 22:48:01.295 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:48:01.295 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:48:01.295 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:48:01.295 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:48:01.965 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:48:01.965 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 22:48:01.965 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 22:48:01.965 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:48:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"77ebb13cde8919e20c4f323a01df82c2"", X-Request-Id:"d6187386-3306-442a-af73-64d4a4fcc2f4", X-Runtime:"0.340666", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 19:50:02 GMT", Set-Cookie:"__cf_bm=f448zpB1E6jcy2yxGtsowNCL.yuAzda24ARQoDMqRm4-1684871282-0-AWm5bW7ln6+alsoZyZtSiUZ9fq/JWQVuY858Ppu4joS5XmksyJIXgNzC4JHyEDoNZ9vlP8mPYl7vCm/uw+bQlok=; path=/; expires=Tue, 23-May-23 20:18:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfd066e8012c3d-FRA"]
2023-05-23 22:48:01.965 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:48:01.965 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:48:01.965 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 22:48:02.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@8cd11cc] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:48:02.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:48:02.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:48:02.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:48:02.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:48:02.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:48:02 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=GaQqYuvM1So_2b0XJWlRyRbrr78vGyMlMEKIXrxHYrs-1684871282-0-Aa6OEUUnvSYIAV59u7NfAB9nRP1y043Jn6OdAtVO/kpseOppuXKOEymWcjGFHSmTn5Jp/Czji+JfqBet8VDOH20=; path=/; expires=Tue, 23-May-23 20:18:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfd06b694939d9-FRA"]
2023-05-23 22:48:02.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:48:02.193 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:48:02.193 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:48:19.264 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:48:19.264 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:48:19.264 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:19.264 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:19.266 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:48:19.266 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:48:19.266 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:48:49.278 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:48:49.278 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:48:49.278 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:49.278 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:48:49.280 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:48:49.280 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:48:49.281 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:49:16.355  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:49:19.282 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:49:19.282 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:49:19.282 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:49:19.282 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:49:19.284 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:49:19.284 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:49:19.284 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:49:49.301 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:49:49.301 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:49:49.302 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:49:49.302 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:49:49.304 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:49:49.304 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:49:49.305 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:50:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:50:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:50:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:50:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:50:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@4a80aff5] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:50:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:50:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:50:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:50:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:50:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:50:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:50:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:50:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:50:00.182 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:50:00.182 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:50:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"482", Set-Cookie:"__cf_bm=u4ALZszS4Ew9FJPiDPB_3eWr0ZuEcG8CAYl_EA5uS9Q-1684871400-0-Ac7nxQsTe7zGRuoZRGyVMG4DpAjUPkohcLfzd6l4V3rgW4wcZ7RDGFzYf3LWas5at/aIdPgs8RJdzJ+RBAC9X9g=; path=/; expires=Tue, 23-May-23 20:20:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfd34cdca13678-FRA"]
2023-05-23 22:50:00.182 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:50:00.182 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:50:00.182 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:50:19.317 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:50:19.317 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:50:19.320 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:50:19.320 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:50:19.324 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:50:19.325 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:50:19.326 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:50:49.331 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:50:49.331 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:50:49.331 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:50:49.331 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:50:49.333 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:50:49.333 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:50:49.334 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:51:19.342 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:51:19.342 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:51:19.342 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:51:19.342 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:51:19.344 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:51:19.344 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:51:19.344 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:51:49.357 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:51:49.357 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:51:49.357 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:51:49.357 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:51:49.359 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:51:49.359 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:51:49.359 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:52:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:52:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:52:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:52:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:52:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@40f1460f] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:52:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:52:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:52:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:52:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:52:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:52:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:52:00.185 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:52:00.185 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:52:00.185 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:52:00.185 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:52:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"362", Set-Cookie:"__cf_bm=H5aW0WZVWp2gDYv5WZx3Aa.t5uhf2UMqSPL1Za5lVb0-1684871520-0-AcJ40eirqJ3jYxAKX7h9Ka7vavjH788CcO9zasAzTDW5WeowBpClViCscmk9wLirgsI9v77C3GjoSZO+grOmYNY=; path=/; expires=Tue, 23-May-23 20:22:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfd63ad84a3aa3-FRA"]
2023-05-23 22:52:00.185 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:52:00.185 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:52:00.186 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:52:19.362 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:52:19.362 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:52:19.362 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:52:19.362 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:52:19.364 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:52:19.364 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:52:19.364 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:52:49.366 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:52:49.366 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:52:49.366 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:52:49.366 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:52:49.369 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:52:49.369 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:52:49.369 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:53:19.382 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:53:19.382 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:53:19.382 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:53:19.382 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:53:19.384 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:53:19.384 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:53:19.384 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:53:49.386 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:53:49.386 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:53:49.386 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:53:49.386 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:53:49.388 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:53:49.388 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:53:49.388 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:54:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:54:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:54:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:54:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:54:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@3371b46a] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:54:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:54:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:54:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:54:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:54:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:54:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:54:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:54:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:54:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:54:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:54:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"242", Set-Cookie:"__cf_bm=oH9icgbVCk0UBCQo0VUq2kxXBb_fqYYnKsJFRGgWo6g-1684871640-0-AT6buNNwUGvT6XSwwdAgnyq7GMQwWCqksqUG0Q0I6cU55vffcjBlyzozOtR3F/aLg1uvwwlTx9eenD6zcG2gKNM=; path=/; expires=Tue, 23-May-23 20:24:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfd928ef199295-FRA"]
2023-05-23 22:54:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:54:00.195 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:54:00.196 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:54:16.365  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:54:19.396 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:54:19.396 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:54:19.396 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:54:19.396 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:54:19.398 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:54:19.398 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:54:19.398 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:54:49.408 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:54:49.408 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:54:49.408 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:54:49.408 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:54:49.411 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:54:49.411 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:54:49.411 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:55:19.424 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:55:19.424 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:55:19.424 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:55:19.424 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:55:19.426 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:55:19.426 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:55:19.426 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:55:49.437 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:55:49.437 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:55:49.437 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:55:49.437 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:55:49.440 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:55:49.440 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:55:49.440 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:56:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:56:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:56:00.005 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:56:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:56:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@19e0898c] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:56:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:56:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:56:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:56:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:56:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:56:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:56:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:56:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:56:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:56:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:56:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"122", Set-Cookie:"__cf_bm=f_B.0I_IKUiCsy7xIbZdeXM0RqxBybEAdr9jY59fKkM-1684871760-0-AaGs9kZkFNF40ezOyJFmP/inMP6kfxfHmV/omQOpNrgcKQo7i5NqIHk9ETUW1yuvwJqqulJNoV+k5lbMPwMkkfc=; path=/; expires=Tue, 23-May-23 20:26:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfdc16d89a35ec-FRA"]
2023-05-23 22:56:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:56:00.181 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:56:00.181 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:56:19.443 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:56:19.443 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:56:19.443 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:56:19.443 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:56:19.445 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:56:19.445 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:56:19.445 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:56:49.460 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:56:49.460 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:56:49.460 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:56:49.460 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:56:49.463 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:56:49.463 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:56:49.463 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:57:19.466 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:57:19.466 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:57:19.466 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:57:19.466 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:57:19.468 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:57:19.468 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:57:19.468 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:57:49.481 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:57:49.481 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:57:49.481 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:57:49.481 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:57:49.483 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:57:49.483 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:57:49.483 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:58:00.014  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 22:58:00.014  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 22:58:00.017 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:58:00.017 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:58:00.018 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@759bed8a] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 22:58:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 22:58:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 22:58:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 22:58:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 22:58:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 22:58:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 22:58:00.209 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 22:58:00.209 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 22:58:00.209 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 22:58:00.209 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 19:58:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"2", Set-Cookie:"__cf_bm=7DHAWyvh1Q_BC_qBkaY6gchDBZytFh9_0edL_arvdTc-1684871880-0-AWGMJ0zXJRBqZQIpcyPRIWbjON6h4Nmqv7E4ksfGiq4eWL18oH9F8eDsSdUe8e2AqFAcBZ5BoXBLSPUeUEPyFIs=; path=/; expires=Tue, 23-May-23 20:28:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfdf04ef14361e-FRA"]
2023-05-23 22:58:00.209 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 22:58:00.209 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 22:58:00.210 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 22:58:19.497 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:58:19.497 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:58:19.497 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:58:19.497 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:58:19.499 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:58:19.499 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:58:19.499 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:58:49.506 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:58:49.506 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:58:49.508 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:58:49.509 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:58:49.510 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:58:49.514 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:58:49.515 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:59:16.380  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 22:59:19.516 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:59:19.516 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:59:19.516 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:59:19.516 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:59:19.519 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:59:19.519 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:59:19.519 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 22:59:49.520 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 22:59:49.520 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 22:59:49.520 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:59:49.520 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 22:59:49.522 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:59:49.522 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 22:59:49.522 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:00:00.010  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:00:00.011  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:00:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:00:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@781e5205] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:00:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:00:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:00:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:00:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:00:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:00:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:00:00.807 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:00:00.808 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:00:00.808 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:00:00.808 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:00:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"db7d67e84cd4ef0b2a605fbc06f5255e"", X-Request-Id:"155d18ab-820d-49b1-b431-5bcd106cc5cd", X-Runtime:"0.456953", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:02:01 GMT", Set-Cookie:"__cf_bm=tfK0dTArCiPYkPLWXNRwGdsEz0iV0AjMlWnIOnV4C10-1684872001-0-AUdT05jmhRqShFsTgvgkRf0PakuXAZMF6Xm6HYNNfmE3OSDygRcrBKtZJCs6Za/ykH8wt/8G9caIID2vi9VqIag=; path=/; expires=Tue, 23-May-23 20:30:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfe1f2eed891d8-FRA"]
2023-05-23 23:00:00.808 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:00:00.808 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:00:00.808 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:00:00.883 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 23:00:00.883 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:00.884 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@6b04ac4f] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:00:00.884 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:00:00.884 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 23:00:00.884 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:00:00.884 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:00:00.884 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:00:00.884 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:00:01.778 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:00:01.778 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:00:01.778 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:00:01.778 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:00:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"02004cfcc05bfdabad7486f269b49fd0"", X-Request-Id:"8aab8ca9-959a-46de-ba46-70d83e6599d7", X-Runtime:"0.515909", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:02:02 GMT", Set-Cookie:"__cf_bm=asCTe8YvW_dcpclrsXaTtrzU2R5EYkZM7IBp2QFVCZU-1684872002-0-AY8YWQX/RRdfPiKquKNlJHvAjFWtw54Lw/0Hk8YvkoC3KosmDnplfO4bjqrMFRoJUprbeGapMWciCHVXZVpNpnA=; path=/; expires=Tue, 23-May-23 20:30:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfe1f84b091945-FRA"]
2023-05-23 23:00:01.779 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:00:01.779 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:00:01.779 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:00:01.833 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 23:00:01.833 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:01.833 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@407a174a] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:00:01.834 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:00:01.834 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 23:00:01.834 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:00:01.834 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:00:01.834 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:00:01.834 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:00:02.706 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:00:02.706 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:00:02.706 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:00:02.706 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:00:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"74e91bf856011fad898d2a9d9c560e74"", X-Request-Id:"c08d8d2b-55e1-43ed-babd-a1e1ebe62cba", X-Runtime:"0.546609", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:02:02 GMT", Set-Cookie:"__cf_bm=LRsxXzp0kxYWDa_VsELkB.kQ12bJdnU2RlpuKoLeks0-1684872002-0-AYTsFtlPjEttO2LGh8R7K4vQHj3SyQBrdbKwt+1Z/iRlE/E0tIG+mU8wffT9S8ILtS/AvbUNsarpIQ0EYnZK8Cs=; path=/; expires=Tue, 23-May-23 20:30:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbfe1fe3b3c3649-FRA"]
2023-05-23 23:00:02.706 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:00:02.706 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:00:02.706 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:00:02.786 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 23:00:02.786 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:02.787 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@476f1a35] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:00:02.787 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:00:02.787 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 23:00:02.787 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:00:02.787 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:00:02.787 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:00:02.787 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:00:02.959 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:00:02.959 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:00:02.959 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:00:02.959 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:00:03 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=HLgFym_5ol4Lrzdn76dgpjDjNyZ8h9a9mKIBPPi28II-1684872003-0-ASP83Ly161vToyDH73xWmxUjNwZ6NSaYfEgHHdsXJ3Wjh0J7eaUmVrsWlGuURhJ+jnq+IOOsaWui2omACdDLrHc=; path=/; expires=Tue, 23-May-23 20:30:03 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfe2042bd63605-FRA"]
2023-05-23 23:00:02.959 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:00:02.959 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:00:02.960 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:00:19.534 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:00:19.534 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:00:19.534 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:19.534 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:19.536 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:00:19.536 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:00:19.536 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:00:49.549 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:00:49.549 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:00:49.549 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:49.549 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:00:49.551 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:00:49.551 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:00:49.551 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:01:19.553 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:01:19.553 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:01:19.555 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:01:19.556 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:01:19.560 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:01:19.561 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:01:19.561 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:01:49.568 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:01:49.568 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:01:49.568 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:01:49.568 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:01:49.570 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:01:49.570 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:01:49.570 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:02:00.008  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:02:00.008  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:02:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:02:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:02:00.012 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2268cdc4] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:02:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:02:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:02:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:02:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:02:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:02:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:02:00.189 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:02:00.189 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:02:00.189 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:02:00.189 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:02:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"483", Set-Cookie:"__cf_bm=JkvuO3mK1vceLvyw5wh4CsDNDB3NuOjMbh7L4NkAHUA-1684872120-0-AdpqzpPKONXL7Qwjw1rjccaLuYXS6NHvVLYZ645aWvgCJsNfpvWTrUIZoAsOuc8YeXnHB9hdWCokM+XyeLfApZw=; path=/; expires=Tue, 23-May-23 20:32:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfe4e0df7a9250-FRA"]
2023-05-23 23:02:00.189 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:02:00.189 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:02:00.189 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:02:19.578 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:02:19.578 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:02:19.578 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:02:19.578 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:02:19.580 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:02:19.580 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:02:19.580 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:02:49.596 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:02:49.596 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:02:49.596 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:02:49.596 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:02:49.598 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:02:49.598 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:02:49.598 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:03:19.610 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:03:19.610 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:03:19.610 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:03:19.610 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:03:19.612 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:03:19.612 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:03:19.612 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:03:49.622 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:03:49.622 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:03:49.622 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:03:49.622 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:03:49.624 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:03:49.624 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:03:49.624 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:04:00.011  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:04:00.012  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:04:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:04:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:04:00.015 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@26933c29] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:04:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:04:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:04:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:04:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:04:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:04:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:04:00.216 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:04:00.216 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:04:00.216 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:04:00.216 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:04:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"363", Set-Cookie:"__cf_bm=ahDCCokDc0qsRG.N6O1EzAIA2C0_LpCXVAIbaJ0qlXA-1684872240-0-AW6bkIXJbw7X3F1V8N/SGaVZA8mDC24/VumFD1HmZY+sKK8uboeRsyaPJHUBxO4CkdsFw9TXxnq6wqOTT/jryNM=; path=/; expires=Tue, 23-May-23 20:34:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfe7cef8a991d8-FRA"]
2023-05-23 23:04:00.216 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:04:00.216 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:04:00.217 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:04:16.393  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 23:04:19.638 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:04:19.638 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:04:19.638 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:04:19.638 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:04:19.639 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:04:19.639 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:04:19.640 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:04:49.645 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:04:49.645 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:04:49.645 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:04:49.645 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:04:49.647 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:04:49.647 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:04:49.647 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:05:19.655 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:05:19.655 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:05:19.655 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:05:19.655 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:05:19.657 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:05:19.657 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:05:19.657 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:05:49.672 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:05:49.672 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:05:49.672 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:05:49.672 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:05:49.674 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:05:49.674 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:05:49.674 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:06:00.005  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:06:00.006  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:06:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:06:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:06:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@6bffcba8] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:06:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:06:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:06:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:06:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:06:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:06:00.009 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:06:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"243", Set-Cookie:"__cf_bm=fy3GGhy5T0z6kwiXmR26okOY5qlp_f7ZNvacrMRwKoM-1684872360-0-AWpu/2ck1Uc6KzFBKZtUyUJ3YntAxu8Mzianpy+GlsUkcr2tZ02vt8HzlzX3tzD/2WvTTogDwl6YhcZ4lKTfpMM=; path=/; expires=Tue, 23-May-23 20:36:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfeabcdb4b3828-FRA"]
2023-05-23 23:06:00.187 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:06:00.187 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:06:00.188 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:06:19.678 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:06:19.678 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:06:19.678 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:06:19.678 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:06:19.681 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:06:19.681 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:06:19.681 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:06:49.693 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:06:49.693 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:06:49.693 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:06:49.693 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:06:49.695 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:06:49.695 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:06:49.695 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:07:19.705 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:07:19.705 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:07:19.705 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:07:19.705 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:07:19.708 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:07:19.708 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:07:19.708 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:07:49.720 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:07:49.720 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:07:49.720 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:07:49.720 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:07:49.722 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:07:49.722 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:07:49.723 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:08:00.014  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:08:00.014  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:08:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:08:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:08:00.019 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@3d0f500e] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:08:00.020 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:08:00.207 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:08:00.207 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:08:00.207 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:08:00.207 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:08:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"123", Set-Cookie:"__cf_bm=0LF6CfTL2r0B2zLrWXEtI8RO8fGVWNo4IAo92q_HSJU-1684872480-0-AQcJJBsiTKMZoOiEtyMYl808AUO08tpOdIEZDP9rwU4dpZECBknXXNYRqtuC+1bnM3zSLXR2cynCXmzS1t0m7cw=; path=/; expires=Tue, 23-May-23 20:38:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfedaaed1abb95-FRA"]
2023-05-23 23:08:00.207 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:08:00.207 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:08:00.207 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:08:19.729 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:08:19.729 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:08:19.729 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:08:19.729 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:08:19.731 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:08:19.731 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:08:19.731 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:08:49.734 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:08:49.734 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:08:49.734 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:08:49.734 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:08:49.736 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:08:49.736 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:08:49.736 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:09:16.399  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 23:09:19.741 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:09:19.741 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:09:19.741 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:09:19.741 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:09:19.743 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:09:19.743 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:09:19.743 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:09:49.754 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:09:49.754 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:09:49.754 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:09:49.754 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:09:49.756 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:09:49.756 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:09:49.756 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:10:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:10:00.004  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@7b70aaaa] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:10:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:10:00.183 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:10:00.183 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:10:00.183 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:10:00.183 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:10:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"3", Set-Cookie:"__cf_bm=EAf8wmC2jL4.zfhkQ.wY71DKVqrcX351Pfk2IJD36ts-1684872600-0-ASx5DJOaxEYrA3aue0GSeQU2dlHkJ/dMtiTEK8P/CzpgNjfB13WZkCTfU9RQO7ChUr4FbK5UCxi3JLb+5/dtGqQ=; path=/; expires=Tue, 23-May-23 20:40:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbff098cbbd0858-FRA"]
2023-05-23 23:10:00.183 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:10:00.183 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:10:00.184 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:10:19.763 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:10:19.763 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:10:19.763 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:10:19.763 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:10:19.765 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:10:19.765 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:10:19.765 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:10:49.770 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:10:49.770 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:10:49.770 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:10:49.770 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:10:49.772 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:10:49.772 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:10:49.772 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:11:19.784 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:11:19.784 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:11:19.784 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:11:19.784 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:11:19.786 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:11:19.786 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:11:19.786 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:11:49.795 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:11:49.795 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:11:49.795 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:11:49.795 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:11:49.798 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:11:49.798 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:11:49.798 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:12:00.011  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:12:00.012  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:12:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:12:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@195bab68] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:12:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:12:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:12:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:12:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:12:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:12:00.015 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:12:00.657 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:12:00.659 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:12:00.659 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:12:00.659 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:12:00 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"9d532a8808a7ed2f6b46cc0818067862"", X-Request-Id:"eeecdf66-97e3-4b91-a51b-654b8a8f926f", X-Runtime:"0.274626", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:14:00 GMT", Set-Cookie:"__cf_bm=._HQqTZlOCyoJmih7gBUk6Rd6.PyyWD6hOcXiXy1EzM-1684872720-0-ASfqhSf2Y71uCIRxi2Xo8M/TgAnUpQ6t3Jd2OrLjQKOMC7DmwD7tupayD1w18lQijN5YGi32N19MQUyGle1s6a4=; path=/; expires=Tue, 23-May-23 20:42:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbff386de359235-FRA"]
2023-05-23 23:12:00.659 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:12:00.659 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:12:00.659 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:12:00.741 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 23:12:00.741 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:00.741 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@77a8d97] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:12:00.742 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:12:00.742 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 23:12:00.742 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:12:00.742 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:12:00.742 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:12:00.742 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:12:01.357 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:12:01.357 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:12:01.357 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:12:01.357 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:12:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"8812c53f2ae00fbe7faf9bd3ca9e6ea5"", X-Request-Id:"aa016439-820c-4be8-86ca-8567e6e43700", X-Runtime:"0.299790", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:14:01 GMT", Set-Cookie:"__cf_bm=eGOcjIRUsIa5zd4WiRx0waFjav4XCyl669W5yXRfNd4-1684872721-0-AcW4OVazO8a4s7rjONzHJYbvC9v+s4d091kb52+N30ZQDnUPNJEPPmUo0MvwwZkxKpm+9RZQogi/QIbvmGGe3NE=; path=/; expires=Tue, 23-May-23 20:42:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbff38b5f553650-FRA"]
2023-05-23 23:12:01.357 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:12:01.357 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:12:01.357 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:12:01.434 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@4e606ac9] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:12:01.435 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:12:02.097 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:12:02.097 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:12:02.097 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:12:02.097 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:12:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"a33d5d3869a30bb659969e87a490995f"", X-Request-Id:"94b15d78-3d37-4810-bc8b-d667d3327e3d", X-Runtime:"0.354062", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:14:02 GMT", Set-Cookie:"__cf_bm=091cK80xJG3RVT82U447o8_fs9lM47ZB.1Li.dybaYg-1684872722-0-AXG5PvLHoymZoAkUh18f4K82Pu+wxjGbujrhN0MFIEBBDsLKET/ZusLtZ3uHnV9KTj/1GVp/htv5kYYf1xwbA14=; path=/; expires=Tue, 23-May-23 20:42:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cbff38faa8fbb80-FRA"]
2023-05-23 23:12:02.097 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:12:02.097 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:12:02.097 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:12:02.150 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 23:12:02.150 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:02.150 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@6f1726cb] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:12:02.150 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:12:02.150 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 23:12:02.151 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:12:02.151 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:12:02.151 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:12:02.151 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:12:02.322 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:12:02.322 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:12:02.322 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:12:02.323 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:12:02 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=0oC24E3p8KCMuXI8guunUVEkuNltNo.wht6IjE3XG7Y-1684872722-0-Acq540TS6ed32VG8zIDOeoqddDuB7iFZzaLiY1VyuCz6OHpcXa4A3kaBJZuZXzubKZ7SgIxJIhBjxb0x2rB0U7g=; path=/; expires=Tue, 23-May-23 20:42:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbff3942ba3194b-FRA"]
2023-05-23 23:12:02.323 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:12:02.323 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:12:02.323 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:12:19.806 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:12:19.806 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:12:19.806 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:19.806 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:19.808 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:12:19.808 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:12:19.808 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:12:49.814 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:12:49.814 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:12:49.814 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:49.814 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:12:49.816 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:12:49.816 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:12:49.816 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:13:19.831 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:13:19.831 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:13:19.831 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:13:19.831 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:13:19.833 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:13:19.833 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:13:19.833 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:13:49.847 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:13:49.847 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:13:49.847 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:13:49.847 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:13:49.849 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:13:49.849 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:13:49.849 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:14:00.004  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:14:00.004  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:14:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@61bddeee] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:14:00.008 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:14:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:14:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:14:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:14:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:14:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"482", Set-Cookie:"__cf_bm=zxWdrWY_N5IfvZ8xA16SaUOL2tO62G1ywgxGiTs_ysg-1684872840-0-AYvrCxJSLMiJiDNLNVfayPm3N36GReOtnKXcpJk8zU6oJ6fbA1TVxjrZzhVHK8HEzxbJoYubAG35ocLLVPBewWM=; path=/; expires=Tue, 23-May-23 20:44:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbff674da77372e-FRA"]
2023-05-23 23:14:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:14:00.191 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:14:00.191 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:14:16.406  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 23:14:19.864 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:14:19.864 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:14:19.866 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:14:19.867 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:14:19.871 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:14:19.871 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:14:19.871 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:14:49.873 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:14:49.873 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:14:49.873 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:14:49.873 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:14:49.875 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:14:49.875 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:14:49.875 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:15:19.888 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:15:19.888 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:15:19.888 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:15:19.888 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:15:19.890 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:15:19.890 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:15:19.890 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:15:49.904 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:15:49.904 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:15:49.904 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:15:49.904 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:15:49.906 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:15:49.906 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:15:49.906 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:16:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:16:00.004  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:16:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:16:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:16:00.007 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@4a843b5a] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:16:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:16:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:16:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:16:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:16:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:16:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:16:00.195 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:16:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:16:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:16:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:16:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"362", Set-Cookie:"__cf_bm=ACT.iabqVXuXOx0xBBLPyaOJ6hkdUkvCzzfMwCvthQk-1684872960-0-AfqzzYmYp/xCRfTJn+oD3mHGJyKJJyszRKIMs8Jz4DetJY3Mur00As+/X4oI2zY0gCQuMz0CwYVLUtkVuRdGTzw=; path=/; expires=Tue, 23-May-23 20:46:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbff962db8b9b33-FRA"]
2023-05-23 23:16:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:16:00.196 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:16:00.196 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:16:19.917 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:16:19.917 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:16:19.917 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:16:19.917 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:16:19.919 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:16:19.919 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:16:19.919 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:16:49.921 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:16:49.921 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:16:49.921 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:16:49.921 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:16:49.924 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:16:49.924 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:16:49.924 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:17:19.929 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:17:19.929 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:17:19.929 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:17:19.929 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:17:19.931 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:17:19.931 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:17:19.931 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:17:49.938 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:17:49.938 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:17:49.938 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:17:49.938 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:17:49.940 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:17:49.940 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:17:49.940 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:18:00.002  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:18:00.003  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:18:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:18:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:18:00.006 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@40b1aae0] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:18:00.006 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:18:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:18:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:18:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:18:00.007 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:18:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:18:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:18:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:18:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:18:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"242", Set-Cookie:"__cf_bm=Azvkmtr8IRbnz6yufc59x0CbiV3e3fTp8.uHpFh47co-1684873080-0-AWNpR9OGbO6TWm9gONNNYmA04xZqUOA/CZBlvJbmMUI/IKjf/t6ncWWn85G2/Wf7XCV1N1Oq3RiYrq1XIFKuMdE=; path=/; expires=Tue, 23-May-23 20:48:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbffc50c8f59079-FRA"]
2023-05-23 23:18:00.181 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:18:00.181 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:18:00.182 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:18:19.941 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:18:19.941 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:18:19.943 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:18:19.943 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:18:19.943 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:18:19.944 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:18:19.944 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:18:49.944 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:18:49.944 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:18:49.946 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:18:49.946 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:18:49.946 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:18:49.947 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:18:49.948 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:19:16.408  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 23:19:19.962 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:19:19.962 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:19:19.962 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:19:19.962 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:19:19.964 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:19:19.964 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:19:19.964 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:19:49.979 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:19:49.979 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:19:49.981 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:19:49.981 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:19:49.982 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:19:49.985 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:19:49.986 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:20:00.016  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:20:00.016  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:20:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:20:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:20:00.020 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@3ee34605] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:20:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:20:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:20:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:20:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:20:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:20:00.021 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:20:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:20:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:20:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:20:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:20:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"122", Set-Cookie:"__cf_bm=mbRqJXSaV93sH.FxXqvb9Bb2J9EniuMmG_NU.sA_M30-1684873200-0-AVXkGLXO7kw2cmLjHPYtgtMFXF3J9vBdUduSVuD/u3xSX7AItw91G9u5N+Ir5Y/sYz85V+AllQpqV7mhfj/YY0M=; path=/; expires=Tue, 23-May-23 20:50:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cbfff3ed8d81bdb-FRA"]
2023-05-23 23:20:00.190 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:20:00.190 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:20:00.191 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:20:19.988 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:20:19.988 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:20:19.988 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:20:19.988 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:20:19.990 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:20:19.990 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:20:19.990 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:20:50.004 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:20:50.004 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:20:50.004 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:20:50.004 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:20:50.006 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:20:50.006 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:20:50.006 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:21:20.008 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:21:20.008 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:21:20.008 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:21:20.008 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:21:20.010 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:21:20.010 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:21:20.011 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:21:50.013 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:21:50.013 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:21:50.013 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:21:50.013 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:21:50.015 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:21:50.015 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:21:50.015 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:22:00.011  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:22:00.011  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@57b3d642] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:22:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:22:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:22:00.191 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:22:00.192 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:22:00.192 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:22:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"2", Set-Cookie:"__cf_bm=sI9lyymhiyGnovcAHk15ZZYWcincSH2OfvRN7W7YsNc-1684873320-0-AfXyomrrHvAAaQQm6Ck/YAxVYMb7eJAZ/nIUq7GwmrlQdkxFsV6FQxM9VyPPrVZPfs5QXkkL+2jeBzJD4aoZHKs=; path=/; expires=Tue, 23-May-23 20:52:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cc0022cde0f18d4-FRA"]
2023-05-23 23:22:00.192 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:22:00.192 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:22:00.192 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:22:20.016 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:22:20.017 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:22:20.018 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:22:20.019 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:22:20.019 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:22:20.020 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:22:20.020 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:22:50.026 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:22:50.026 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:22:50.026 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:22:50.026 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:22:50.028 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:22:50.028 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:22:50.028 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:23:20.040 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:23:20.040 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:23:20.041 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:23:20.041 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:23:20.042 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:23:20.042 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:23:20.043 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:23:50.055 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:23:50.055 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:23:50.055 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:23:50.055 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:23:50.057 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:23:50.057 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:23:50.057 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:24:00.007  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:24:00.007  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:24:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:24:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:00.011 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@5bedf79b] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:24:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:24:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:24:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:24:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:24:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:24:00.012 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:24:01.141 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:24:01.141 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:24:01.141 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:24:01.141 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:24:01 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"1842339d6d5e965f513bd05a3dd5ff9d"", X-Request-Id:"64e00982-2397-4337-a97c-b9466e04b6b4", X-Runtime:"0.350877", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:26:01 GMT", Set-Cookie:"__cf_bm=R1CZqred0vFKzziCBB3d6.uW3IksIlTaiZIHpbmTNJw-1684873441-0-AXfhfR95lxIEeEVmQmn0qdNYiX/HIX5UPgG06Jfrf3gWyFqowXs+41iJdccrbyF7kLe3kMmdHGsSiH3JTsjmupU=; path=/; expires=Tue, 23-May-23 20:54:01 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cc0051ac8b4362d-FRA"]
2023-05-23 23:24:01.141 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:24:01.141 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:24:01.141 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@699bf67f] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=2&sparkline=false&order=market_cap_desc
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"2","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:24:01.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:24:01.825 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:24:01.825 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:24:01.825 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:24:01.825 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:24:02 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"07dfc94dd99dc35bc94f6197dbd4f682"", X-Request-Id:"bd4b3a64-578c-4fd7-8cb3-1bfead721d27", X-Runtime:"0.285922", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"MISS", Expires:"Tue, 23 May 2023 20:26:02 GMT", Set-Cookie:"__cf_bm=WWip1mE92PNGw6w2JwMNcvnCIY0pw35Nosz4f17uvPs-1684873442-0-AUcuQdJ0iMItaJWYdTrItyNj29f05jTgBoQj407sTTfLny4mX+DoqhYA9zIXwEJpwKuym9JeQq2+nWq/OjQGKi8=; path=/; expires=Tue, 23-May-23 20:54:02 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cc0052229dd1cad-FRA"]
2023-05-23 23:24:01.825 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:24:01.825 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:24:01.825 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@179e9581] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=3&sparkline=false&order=market_cap_desc
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"3","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:24:01.880 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:24:02.765 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:24:02.765 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 200 OK
2023-05-23 23:24:02.766 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : OK
2023-05-23 23:24:02.766 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:24:03 GMT", Content-Type:"application/json; charset=utf-8", Transfer-Encoding:"chunked", Connection:"keep-alive", X-Frame-Options:"SAMEORIGIN", X-XSS-Protection:"0", X-Content-Type-Options:"nosniff", X-Download-Options:"noopen", X-Permitted-Cross-Domain-Policies:"none", Referrer-Policy:"strict-origin-when-cross-origin", Cache-Control:"public, max-age=120", Access-Control-Allow-Origin:"*", Access-Control-Allow-Methods:"POST, PUT, DELETE, GET, OPTIONS", Access-Control-Request-Method:"*", Access-Control-Allow-Headers:"Origin, X-Requested-With, Content-Type, Accept, Authorization", Access-Control-Expose-Headers:"link, per-page, total", Vary:"Accept-Encoding, Origin", ETag:"W/"81af5590982fb462a3f8530bc105331f"", X-Request-Id:"cfe6ca30-864e-4dae-9f07-be1090c254f6", X-Runtime:"0.313825", Alternate-Protocol:"443:npn-spdy/2", CF-Cache-Status:"EXPIRED", Expires:"Tue, 23 May 2023 20:26:03 GMT", Set-Cookie:"__cf_bm=.eWkzmWZWjrW8xJkqIC0rsJOKiUNeRBU9SSW6UzVrAM-1684873443-0-AaL9IAS91kH8AsgvvfvMlGiJgSgeE3qcYyB7dDNx/348rAIOxPez1Jd6WuUHvOApnGKGjzW9KosRYUpiHOqNQxw=; path=/; expires=Tue, 23-May-23 20:54:03 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Server:"cloudflare", CF-RAY:"7cc005267aabbb43-FRA"]
2023-05-23 23:24:02.766 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:24:02.766 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:24:02.766 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Reading to [com.crypto.model.coingecko.core.CoreCoingeckoCoinsMarket[]]
2023-05-23 23:24:02.857 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2b48980c] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=4&sparkline=false&order=market_cap_desc
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"4","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:24:02.858 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:24:03.037 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:24:03.037 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:24:03.037 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:24:03.037 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:24:03 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"600", Set-Cookie:"__cf_bm=a4x_GaTadDEI4MvUjCuDPpweA2e4wQXhR6iFF_q_HPA-1684873443-0-AU4cYOK9sI8fdeL39pfyhFiMf8ZYg/AraJr+6HbLJOzCQ5VGboIQXYZNSJj0mAtMXtY62dNzV/zs6LtpYpQiC1Y=; path=/; expires=Tue, 23-May-23 20:54:03 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cc0052c89959183-FRA"]
2023-05-23 23:24:03.037 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:24:03.037 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:24:03.038 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:24:16.415  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 23:24:20.063 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:24:20.063 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:24:20.063 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:20.063 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:20.066 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:24:20.066 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:24:20.066 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:24:50.069 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:24:50.069 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:24:50.069 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:50.069 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:24:50.071 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:24:50.071 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:24:50.071 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:25:20.081 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:25:20.081 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:25:20.081 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:25:20.081 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:25:20.083 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:25:20.083 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:25:20.083 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:25:50.094 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:25:50.094 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:25:50.094 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:25:50.094 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:25:50.095 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:25:50.095 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:25:50.095 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:26:00.015  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:26:00.016  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2e89bf2f] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:26:00.018 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:26:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:26:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:26:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:26:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:26:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"483", Set-Cookie:"__cf_bm=dwnHaAZG763qV.dD4Q7NXfmXVeMjr5pVGetm1fDRKkM-1684873560-0-Ad+pU67tzZAbickGgyIhHJ4xNsypXTCxPZMSvQLNmfDTgGiE6tHkey0kh9r3YllLW3MkazJch6FZOfwqBgUucrg=; path=/; expires=Tue, 23-May-23 20:56:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cc00808d84218cb-FRA"]
2023-05-23 23:26:00.196 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:26:00.196 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:26:00.196 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:26:20.097 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:26:20.097 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:26:20.097 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:26:20.097 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:26:20.099 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:26:20.099 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:26:20.099 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:26:50.102 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:26:50.102 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:26:50.102 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:26:50.102 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:26:50.104 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:26:50.104 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:26:50.104 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:27:20.118 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:27:20.118 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:27:20.118 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:27:20.118 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:27:20.120 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:27:20.120 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:27:20.120 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:27:50.126 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:27:50.126 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:27:50.126 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:27:50.126 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:27:50.128 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:27:50.128 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:27:50.128 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:28:00.008  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Enter Schedule Service
2023-05-23 23:28:00.008  INFO 20708 --- [scheduling-1] c.c.s.c.schedule.ScheduleService         : Whitelist size bigger than 0
2023-05-23 23:28:00.012 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : HTTP GET https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:28:00.012 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:28:00.013 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Writing [com.crypto.request.coingecko.CoreCoingeckoCoreRequest@2703d2a9] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2023-05-23 23:28:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ===========================request begin================================================
2023-05-23 23:28:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : URI         : https://api.coingecko.com/api/v3/coins/markets?per_page=2000&vs_currency=usd&page=1&sparkline=false&order=market_cap_desc
2023-05-23 23:28:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Method      : GET
2023-05-23 23:28:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers     : [Accept:"application/json, application/*+json", Content-Type:"application/json", Content-Length:"177"]
2023-05-23 23:28:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Request body: {"url":"https://api.coingecko.com/api/v3/coins/markets","body":null,"queryParams":{"per_page":"2000","vs_currency":"usd","page":"1","sparkline":false,"order":"market_cap_desc"}}
2023-05-23 23:28:00.014 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ==========================request end================================================
2023-05-23 23:28:00.193 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : ============================response begin==========================================
2023-05-23 23:28:00.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status code  : 429 TOO_MANY_REQUESTS
2023-05-23 23:28:00.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Status text  : Too Many Requests
2023-05-23 23:28:00.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : Headers      : [Date:"Tue, 23 May 2023 20:28:00 GMT", Content-Type:"application/json", Content-Length:"187", Connection:"keep-alive", Retry-After:"363", Set-Cookie:"__cf_bm=Sf6DH.wjZ.FqvcZGfcn3Rqx1EDR4KvAuQOJH3066m10-1684873680-0-AcgG/OPElv8u+anINaHynAydf2PZF0XeQTG6vHvJOyrgi/nlN7eT2SRAKzI6L1jscJbm4S72E68JyjKmpQuYXGA=; path=/; expires=Tue, 23-May-23 20:58:00 GMT; domain=.api.coingecko.com; HttpOnly; Secure; SameSite=None", Vary:"Accept-Encoding", Server:"cloudflare", CF-RAY:"7cc00af6c9a1085d-FRA"]
2023-05-23 23:28:00.194 DEBUG 20708 --- [scheduling-1] .c.s.c.RequestResponseLoggingInterceptor : =======================response end=================================================
2023-05-23 23:28:00.194 DEBUG 20708 --- [scheduling-1] o.s.web.client.RestTemplate              : Response 429 TOO_MANY_REQUESTS
2023-05-23 23:28:00.194 ERROR 20708 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task

org.springframework.web.client.HttpClientErrorException$TooManyRequests: 429 Too Many Requests: "{"status":{"error_code":429,"error_message":"You've exceeded the Rate Limit. Please visit https://www.coingecko.com/en/api/pricing to subscribe to our API plans for higher rate limits."}}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:137) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.22.jar:5.3.22]
	at com.crypto.service.coingecko.core.CoingeckoRestClient.apply(CoingeckoRestClient.java:40) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoreCoinsMarketService.apply(CoreCoinsMarketService.java:44) ~[classes/:na]
	at com.crypto.service.coingecko.core.CompletableFutureCoinsMarketService.apply(CompletableFutureCoinsMarketService.java:27) ~[classes/:na]
	at com.crypto.service.coingecko.core.CoingeckoCoreService.coinsMarket(CoingeckoCoreService.java:59) ~[classes/:na]
	at com.crypto.service.coingecko.getcoinslist.GetCoinInfoListService.apply(GetCoinInfoListService.java:38) ~[classes/:na]
	at com.crypto.service.coingecko.schedule.ScheduleService.scheduleGetWhiteListCoinPrice(ScheduleService.java:58) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor122.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) ~[spring-context-5.3.22.jar:5.3.22]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:28:20.143 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:28:20.143 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:28:20.143 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:28:20.143 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:28:20.145 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:28:20.145 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:28:20.145 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:28:50.159 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : HTTP GET http://localhost:8761/eureka/apps/delta
2023-05-23 23:28:50.159 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : HTTP PUT http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091?status=UP&lastDirtyTimestamp=1684868358187
2023-05-23 23:28:50.159 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:28:50.159 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:28:50.161 DEBUG 20708 --- [DiscoveryClient-HeartbeatExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:28:50.161 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Response 200 OK
2023-05-23 23:28:50.161 DEBUG 20708 --- [DiscoveryClient-CacheRefreshExecutor-0] o.s.web.client.RestTemplate              : Reading to [org.springframework.cloud.netflix.eureka.http.EurekaApplications]
2023-05-23 23:29:08.016  INFO 20708 --- [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application TRADING-CRYPTO-API with eureka with status DOWN
2023-05-23 23:29:08.016  INFO 20708 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1684873748016, current=DOWN, previous=UP]
2023-05-23 23:29:08.016  INFO 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091: registering service...
2023-05-23 23:29:08.016 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : HTTP POST http://localhost:8761/eureka/apps/TRADING-CRYPTO-API
2023-05-23 23:29:08.017 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:29:08.017 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : Writing [InstanceInfo [instanceId = DESKTOP-ACVHTG1:trading-crypto-api:8091, appName = TRADING-CRYPTO-API, hostName = DESKTOP-ACVHTG1, status = DOWN, ipAddr = 192.168.1.103, port = 8091, securePort = 443, dataCenterInfo = com.netflix.appinfo.MyDataCenterInfo@557fe039] as "application/json"
2023-05-23 23:29:08.023 DEBUG 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] o.s.web.client.RestTemplate              : Response 204 NO_CONTENT
2023-05-23 23:29:08.024  INFO 20708 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091 - registration status: 204
2023-05-23 23:29:08.135  INFO 20708 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-23 23:29:08.136  INFO 20708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-23 23:29:08.140  INFO 20708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-23 23:29:08.142  INFO 20708 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2023-05-23 23:29:11.153  INFO 20708 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2023-05-23 23:29:11.154 DEBUG 20708 --- [SpringApplicationShutdownHook] o.s.web.client.RestTemplate              : HTTP DELETE http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091
2023-05-23 23:29:11.154 DEBUG 20708 --- [SpringApplicationShutdownHook] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:29:15.185  INFO 20708 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:830)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 39 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:493)
	at java.base/sun.nio.ch.Net.connect(Net.java:482)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:339)
	at java.base/java.net.Socket.connect(Socket.java:603)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 52 more

2023-05-23 23:29:15.186  WARN 20708 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2023-05-23 23:29:15.187 DEBUG 20708 --- [SpringApplicationShutdownHook] o.s.web.client.RestTemplate              : HTTP DELETE http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091
2023-05-23 23:29:15.189 DEBUG 20708 --- [SpringApplicationShutdownHook] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2023-05-23 23:29:16.429  INFO 20708 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2023-05-23 23:29:19.259  INFO 20708 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:830)
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:87)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 40 more
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:493)
	at java.base/sun.nio.ch.Net.connect(Net.java:482)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:339)
	at java.base/java.net.Socket.connect(Socket.java:603)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 53 more

2023-05-23 23:29:19.260  WARN 20708 --- [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091": Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect; nested exception is org.apache.http.conn.HttpHostConnectException: Connect to localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect
2023-05-23 23:29:19.260 ERROR 20708 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_TRADING-CRYPTO-API/DESKTOP-ACVHTG1:trading-crypto-api:8091 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:972) ~[eureka-client-1.10.17.jar:1.10.17]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:948) ~[eureka-client-1.10.17.jar:1.10.17]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:197) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:190) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:390) ~[spring-cloud-context-3.1.4.jar:3.1.4]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-3.1.4.jar:3.1.4]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172) ~[spring-boot-2.6.11.jar:2.6.11]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.22.jar:5.3.22]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145) ~[spring-boot-2.6.11.jar:2.6.11]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114) ~[spring-boot-2.6.11.jar:2.6.11]
	at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]

2023-05-23 23:29:19.262  INFO 20708 --- [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
